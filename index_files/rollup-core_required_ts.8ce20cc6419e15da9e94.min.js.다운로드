(()=>{var pe=Object.defineProperty;var c=(u,i)=>pe(u,"name",{value:i,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["rollup-core_required_ts"],{4800130078:()=>{(function(){var u=c(function(t,n){var s=_.get(window,"TS.model.team.id")||_.get(window,"TS.boot_data.team_id","none"),p=_.get(window,"TS.model.user.id")||_.get(window,"TS.boot_data.user_id","none"),m={description:n,error_json:JSON.stringify(t),team:s,user:p,version:TS.boot_data.version_ts};$.post(TS.boot_data.beacon_error_url,m)},"_beaconError"),i=c(function(t,n,s){if(!(!window.console||!console[t])){var p=TS.qs_args.clean_log,m=n!==null;if(s=Array.prototype.slice.call(s),m){if(!TS.console.shouldLog(n))return;s.splice(0,1)}s=_.map(s,function(h){return d(h)});for(var w=!0,l=s.length;w&&l;)l-=1,w=typeof s[l]=="string";if(!(p&&t!=="error"&&(n!==parseInt(TS.qs_args.pri,10)||!m)))if(w){var S=TS.makeLogDate();m&&!p&&(S+=`[** ${n} **]`),s.unshift(S),console[t](s.join(" "))}else console[t].apply(console,s)}},"_console");window.TS||(window.TS={}),TS.console={onStart:function(){TS.console.setAppropriatePri(!0),TS.console.watchForErrors()},count:function(){i("count",null,arguments)},dir:function(t,n,s){if(!(!window.console||!console.dir)&&!(t&&!TS.shouldLog(t))){s=s||"",n=d(n);var p=parseInt(TS.qs_args.dir_json,10);if(p){var m=p==1?"2000":p;try{var w=JSON.stringify(n,null,"  ");if(w.length>m)throw new Error("too long");console.info(`${TS.makeLogDate()}[** ${t} **] ${s} ${w}`);return}catch(S){if(S!=="too long"){console.info(`${TS.makeLogDate()}[** ${t} **] ${s} ${n}`);return}}}try{var l=_.cloneDeep(n);console.info(`${TS.makeLogDate()}[** ${t} **] ${s} \u{1F447}`),console.dir(l)}catch(S){TS.warn(`could not dir ob:${n} err:${S}`)}}},error:function(){i("error",null,arguments)},group:function(){i("group",null,arguments)},groupCollapsed:function(){i("groupCollapsed",null,arguments)},groupEnd:function(){i("groupEnd",null,arguments)},maybeError:function(t){i("error",t,arguments)},getStackTrace:function(){var t=_.get(TS,"boot_data.version_ts")==="dev"||_.get(TS,"qs_args.js_path"),n=new Error().stack;if(t){var s=new Error,p=Promise.resolve();if(_.isFunction(p._attachExtraTrace)){p._attachExtraTrace(s),n=s.stack||"";var m=n.split(`
`);if(m.length&&m.indexOf("From previous event:")>=0){var w=m.indexOf("From previous event:")+1;n=[m[0]].concat(m.slice(w)).join(`
`)}}}var l;n?l=n.split&&n.split(`
`)||["[could not parse stack]",n]:l=["no stacktrace available"],l=_.filter(l,function(h){return h.indexOf("Error")===0?!1:h.trim().length&&h.indexOf("StackTrace")===-1}),l=_.map(l,function(h){return h.trim()});var S=l.join(`
`);return S},info:function(){i("info",null,arguments)},log:function(t){i("log",t,arguments)},logStackTrace:function(t){var n=_.isUndefined(t)?"":`${t}
`;TS.console.info(`${n}Stacktrace: \u21B4
`,TS.console.getStackTrace())},logStackTraceToBackEnd:function(t,n,s){if(!n||!t||_.isUndefined(s)){TS.console.warn("Invalid parameters, will not log stack trace");return}var p=TS.console.getStackTrace(),m=_.get(p.split(`
`),"[1]")||"(unknown)";TS.telemeter.count(`${n}_v${s}`);var w={message:`${t}. Immediate caller: ${m}`,stack:p},l=m.match(/\((.+):(\d+:\d+)\)/);l&&l.length==3&&(w.fileName=l[1],w.lineNumber=l[2]);var S=`${n}_caller_v${s}`;u(w,S)},profile:function(){i("profile",null,arguments)},profileEnd:function(){i("profileEnd",null,arguments)},replaceConsoleFunction:function(t){var n=i;return i=t,n},setAppropriatePri:function(t){var n="";TS.qs_args.pri&&(n+=TS.qs_args.pri),t&&TS.boot_data.client_logs_pri&&(n!==""&&(n+=","),n+=TS.boot_data.client_logs_pri),TS.model&&TS.prefs&&TS.prefs.prefs_loaded&&TS.prefs.getPref("client_logs_pri")&&(n!==""&&(n+=","),n+=TS.prefs.getPref("client_logs_pri")),n!==""&&(n+=","),n+="0",TS.pri=_.uniq(n.split(",")).join(","),f()},shouldLog:function(t){var n=String(TS.pri).split(",");return n.indexOf("all")!==-1||n.indexOf("*")!==-1||n.indexOf(String(t))!==-1?!0:typeof TS.has_pri[t]<"u"},table:function(){i("table",null,arguments)},time:function(){i("time",null,arguments)},timeEnd:function(){i("timeEnd",null,arguments)},timeStamp:function(){i("timeStamp",null,arguments)},warn:function(){i("warn",null,arguments)},maybeWarn:function(t){i("warn",t,arguments)},watchForErrors:function(){!TS.boot_data||!TS.boot_data.feature_beacon_js_errors||TS.interop&&TS.interop.console&&TS.interop.console.registerGlobalErrorHandler&&TS.interop.console.registerGlobalErrorHandler()},trace:function(){i("trace",null,arguments)},maybeTrace:function(t){i("trace",t,arguments)},test:function(){return{_maybeRedactFields:d}}};var f=c(function(){var t=String(TS.pri).split(",");TS.has_pri=_(Object.keys(TS.boot_data.client_logs||{})).filter(function(n){var s=TS.boot_data.client_logs[n];return t.some(function(p){return!!(p==="*"||s.numbers.indexOf(parseInt(p,10))>-1||s.name&&s.name.indexOf(p)>-1||s.owner&&s.owner.indexOf(p)>-1)})}).map(function(n){return parseInt(n,10)>=0?parseInt(n,10):n}).keyBy(function(n){return n}).value()},"_determineKeysToCheck"),T={name:1,name_normalized:1,_name_lc:1,real_name:1,_real_name_lc:1,real_name_normalized:1,_real_name_normalized_lc:1,display_name:1,_display_name_lc:1,display_name_normalized:1,_display_name_normalized_lc:1,first_name:1,_first_name_lc:1,last_name:1,_last_name_lc:1,preferred_name:1,full_name:1,purpose:1,topic:1,emoji_use:1,frecency_ent_jumper:1,frecency_jumper:1,highlight_words:1,custom_contact_email:1,custom_status_presets:1,email:1,fields:1,skype:1,status_text:1,title:1,src:1,text:1,msgs:1,downloadUrl:1,token:1,enterprise_api_token:1,team_url:1,team_name:1},d=c(function(t,n){if(!TS.boot_data||TS.boot_data.version_ts==="dev"||!t||!_.isObject(t)||(n?n+=1:n=1,n>=10))return t;var s;return _.isArray(t)?s=[]:s={},_.each(t,function(p,m){T[m]?s[m]=`[redacted ${r(p)}]`:s[m]=d(p,n)}),s},"_maybeRedactFields"),r=function(t){var n={};return function(s){var p=typeof s;if(s===null)return"null";if(s===t)return"global";if(p!=="object")return p;if(s.nodeType)return"DOM node";var m=n[p={}.toString.call(s)]||(n[p]=p.slice(8,-1).toLowerCase());return m}}(this)})()},8897237271:()=>{(function(){TS.registerModule("emoji",{onStart:function(){var r=!0;f=TS.utility.throttleFunc(f,3e3,r),window._&&(d=_.debounce(d,3e3,{leading:!1,trailing:r}))},stripWrappingColons:function(r){return r?(r=typeof r=="string"?r:`${r}`,r[0]===":"?r[r.length-1]===":"?r.slice(1,r.length-1):r.slice(1,r.length):r[r.length-1]===":"?r.slice(0,r.length-1):r):""},bootEmoji:function(){return u?u=u.finally(TS.emoji.setUpEmoji):u=TS.emoji.setUpEmoji(),u},setUpEmoji:function(){return TS.interop.utility.makeSafeForTimeout(TS.redux.dispatch(TS.interop.redux.actions.loadEmoji()))},renderIconFallback:function(r){return`<ts-icon class="emoji-sizer ts_icon_info_circle ts_icon_inherit" title="${r.replace(/:/g,"")}"></ts-icon>`},sonicGenerateEmojiHtml:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=TS.interop.emojiComponent.mapStateToProps(r)||{},n={...r,...t},{displayText:s,url:p,renderAsText:m,iconInTextMode:w,className:l,includeTitle:S,includeText:h}=n;if(m||!p)return w?TS.emoji.renderIconFallback(s):s;const E=["emoji","emoji-sizer",l];return TS.templates.sonic_emoji({url:p,displayText:h&&s,displayTitle:S&&TS.emoji.stripWrappingColons(s),emojiClassNames:_.compact(E).join(" ")})},sonicReplaceEmojiInString:function(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=TS.interop.utility.getColonsRx();return r.replace(n,s=>TS.emoji.sonicGenerateEmojiHtml({...t,text:s}))},graphicReplace:function(r,t){if(!r)return"";t=t||{};var n=t.emojiSize;return!n&&t.jumbomoji&&(n=TS.interop.emojiComponent.EmojiSizes.LARGE),TS.emoji.sonicReplaceEmojiInString(r,{emojiSize:n,forceDisplay:t.force_img,stopAnimations:t.stop_animations,className:t.jumbomoji?"emoji-only":void 0,iconInTextMode:t.show_icon_for_emoji_in_as_text_mode&&TS.interop.emoji.isValidEmojiText(r),includeTitle:t.include_title,includeText:t.include_text})},hasUnifiedEmoji:function(r){if(!_.isString(r))return!1;const t=TS.interop.utility.getNativeEmojiRx();return r.search(t)!==-1},test:function(){return{emoji:i}}});var u,i=emoji,f=c(function(){TS.emoji.setUpEmoji()},"_resetUpEmojiThrottled"),T=c(function(){i.unaltered_data&&(i.data=JSON.parse(JSON.stringify(i.unaltered_data)),i.inits={}),i.ts_init_colons()},"_customEmojiWillChange"),d=c(function(){T()},"_willChangeIngestCustomsDidChangeDebounced")})()},8534419942:()=>{(function(){TS.registerModule("environment",{is_apple_webkit:!1,is_dev:!1,is_retina:!1,retina_changed_sig:new signals.Signal,supports_sticky_position:!1,supports_custom_scrollbar:!1,slim_scrollbar:!1,supports_line_clamp:!1,supports_intersection_observer:!1,onStart:function(){p(),r(),m()},test:function(){var l={_decoratePageWithSupport:r,_initialSetup:p};return Object.defineProperty(l,"cssPropertySupported",{get:function(){return t},set:function(S){t=S}}),Object.defineProperty(l,"cssValueSupported",{get:function(){return n},set:function(S){n=S}}),l}});var u=["-webkit-","-moz-","-o-","-ms-",""],i=["Webkit","Moz","O","ms",""],f=new RegExp(`^(-*${u.slice(0,u.length-1).join("|-*")})`),T=new RegExp(`^(${i.slice(0,i.length-1).join("|")})`);function d(){return window.devicePixelRatio>1}c(d,"_isRetina");function r(){var l=["is_apple_webkit","supports_sticky_position","supports_custom_scrollbar","slim_scrollbar","supports_line_clamp"],S=_.partition(l,function(E){return TS.environment[E]}),h=$("html");h.addClass(S[0].join(" ")),h.removeClass(S[1].join(" "))}c(r,"_decoratePageWithSupport");function t(l){if(l==="scrollbar")return w();var S=document.createElement("css_property_supported").style;l=l.replace(T,"").replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(f,"").toLowerCase(),l=_.camelCase(l,"-");var h=_.upperFirst(l);return S[l]!==void 0?!0:i.some(function(E){return S[E+h]!==void 0||S[E+l]!==void 0})}c(t,"_cssPropertySupported");function n(l,S){var h=document.createElement("css_value_supported");return S=S.replace(f,"").toLowerCase(),h.style.cssText=`${l}:${u.join(`${S};${l}:`)}${S};`,!!h.style.length}c(n,"_cssValueSupported");function s(){TS.environment.supports_sticky_position=n("position","sticky"),window.bowser.name==="Chrome"&&parseInt(window.bowser.version,10)<57&&d()&&(TS.environment.supports_sticky_position=!1),TS.redux.dispatch(TS.interop.redux.models.environment.setSupportsStickyPosition(TS.environment.supports_sticky_position))}c(s,"_stickySetup");function p(){TS.environment.is_apple_webkit=!!(TS.interop.environment.mac_ssb_version||TS.model.is_safari_desktop),TS.environment.is_dev=TS.boot_data.version_ts==="dev",TS.environment.is_retina=d(),TS.environment.supports_custom_scrollbar=t("scrollbar"),TS.environment.slim_scrollbar=TS.environment.supports_custom_scrollbar&&TS.boot_data.feature_slim_scrollbar,TS.environment.supports_line_clamp=t("line-clamp"),TS.environment.supports_intersection_observer=typeof IntersectionObserver=="function",s()}c(p,"_initialSetup");function m(){if(window.matchMedia){var l="screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min--moz-device-pixel-ratio: 1.5), screen and (min-device-pixel-ratio: 1.5)";window.matchMedia(l).addListener(function(){var S=TS.environment.is_retina;TS.environment.is_retina=d(),TS.environment.is_retina!==S&&(TS.info(`TS.environment.is_retina changed from ${S} to ${TS.environment.is_retina}`),TS.environment.retina_changed_sig.dispatch(TS.environment.is_retina),s(),r())})}}c(m,"_bindEvents");function w(){var l=document.createElement("div");l.id="__sb",l.style.overflow="scroll",l.style.width="40px",l.style.height="40px",l.style.position="absolute",l.style.left="-40px",l.innerHTML="&shy;<style>#__sb::-webkit-scrollbar {width:10px;}</style>",document.body.appendChild(l);var S=l.offsetWidth-l.clientWidth===10;return document.body.removeChild(l),S}c(w,"_cssScrollbarSupported")})()},5739961269:()=>{(function(){TS.registerModule("i18n",{onStart:function(){TS.interop.i18n.getReverseKeyCodeMap(),TS.prefs&&TS.prefs.keyboard_changed_sig.add(f),window.signals?TS.i18n.keyboard_changed_sig=new signals.Signal:TS.i18n.keyboard_changed_sig={add:function(){},remove:function(){},dispatch:function(){}}},keyboard:function(){if(!u)if(TS.interop.desktop.legacyCanAutoGetKeyboard())u=TS.interop.i18n.normalizeKeyboardFromDesktop(desktop.app.getLocaleInformation().currentKeyboardLayout),desktop.app.onDidChangeKeyboardLayout(i);else if(TS.prefs.prefs_loaded)u=TS.prefs.getPref("keyboard")||"us";else return"us";return u==="en-US"?"us":u}});var u,i=c(function(T){u=TS.interop.i18n.normalizeKeyboardFromDesktop(T),TS.i18n.keyboard_changed_sig.dispatch()},"_keyboardDesktopChanged"),f=c(function(){TS.model.is_our_app||(u=TS.prefs.getPref("keyboard"),TS.i18n.keyboard_changed_sig.dispatch())},"_keyboardPrefChanged")})()},258318018:()=>{(function(){TS.registerModule("model",{did_we_load_with_user_cache:!1,api_url:"",api_token:"",async_api_url:"",webhook_url:"",user:null,team:null,ims:null,channels:null,groups:null,mpims:null,members:null,user_groups:null,requested_channel_joins:{},last_team_name:"",RESERVED_KEYWORDS:["channel","here","everyone","slackbot","siackbot","canal","aqu\xED","aqui","todos","m\xED","mi","hier","alle","cha\xEEne","chaine","ici","tous","\u30C1\u30E3\u30F3\u30CD\u30EB","\u3053\u3053","\u5168\u54E1","\uB098","\uADF8\uB8F9","\uCC44\uB110","\uBAA8\uB450","\uC5EC\uAE30","\uC804\uCCB4","\uBAA8\uB4E0","\uC804\uBD80","tutti","canale","gruppo","qui","me","tu","\u5F52\u6863","\u5DF2\u5F52\u6863","\u5168\u90E8","\u9891\u9053","\u521B\u5EFA","\u5220\u9664","\u5DF2\u5220\u9664\u7684\u9891\u9053","\u7F16\u8F91","\u6BCF\u4E2A\u4EBA","\u7EC4","\u6B64\u5904","\u6211","\u4ECA\u5929","\u4F60","\u5168\u90E8","\u983B\u9053","\u983B\u9053","\u4EFB\u610F","\u6211","\u60A8","\u4E00\u822C","Slack \u6A5F\u5668\u4EBA","\u0430\u0440\u0445\u0438\u0432","\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439","\u0430\u0440\u0445\u0438\u0432\u043D\u044B\u0439","\u0432\u0441\u0435","\u0432\u044B","\u0433\u0440\u0443\u043F\u043F\u0430","\u0433\u0440\u0443\u043F\u043F\u044B","\u0437\u0434\u0435\u0441\u044C","\u043A\u0430\u043D\u0430\u043B","\u043A\u0430\u043D\u0430\u043B\u044B","\u043E\u0431\u0449\u0438\u0439","\u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C","\u0441\u0435\u0433\u043E\u0434\u043D\u044F","\u0441\u043E\u0437\u0434\u0430\u0442\u044C","\u0443\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0439 \u043A\u0430\u043D\u0430\u043B","\u0443\u0434\u0430\u043B\u0438\u0442\u044C","\u044F"],ms_logged_in_once:!1,window_unloading:!1,at_channel_suppressed_channels:null,push_at_channel_suppressed_channels:null,loud_channels:null,never_channels:null,loud_channels_set:null,push_loud_channels:null,push_mention_channels:null,push_loud_channels_set:null,channel_sort:"alphabetical",expandable_state:{},flex_names:["files","team","search","stars","mentions","details","whats_new","convo","apps","shortcuts","groups"],ui_state:null,menu_is_showing:!1,supports_downloads:!1,supports_spaces_in_windows:!1,supports_growl_subtitle:!1,supports_voice_calls:!1,supports_video_calls:!1,supports_screen_sharing:!1,supports_screenhero:!1,supports_mmap_minipanel_calls:!1,shift_key_pressed:!1,insert_key_pressed:!1,ui:{cached_file_preview_scroller_rect:null,cached_msgs_scroller_rect:null,cached_msgs_scroll_result:null,cached_search_scroller_rect:null,cached_archives_scroller_rect:null,cached_archive_scroll_result:null,cached_convo_scroller_rect:null,cached_unread_scroller_rect:null,cached_threads_scroller_rect:null,is_window_focused:!!(document.hasFocus&&document.hasFocus()),is_mouse_down:!1,last_flex_extra:null,active_tab_id:null,active_tab_ts:null,debug_channel_lists:!0,last_top_msg:null},frecency_jumper:{},onStart:function(){var i=[];TS.model.is_electron&&TS.model.is_mac&&TS.interop.desktop.isMainWindowFrameless()&&i.push("is_electron_mac"),TS.model.is_electron&&i.push("is_electron"),$("html").addClass(i.join(" ")),TS.model.supports_growl_subtitle=!!(TS.model.mac_ssb_version&&TS.interop.environment.isSSBAndAtLeastVersion("2.2"));var f=!1;if(Object.defineProperty(TS.model,"dialog_is_showing",{get:function(){return f},set:function(r){f=r},enumerable:!0,configurable:!0}),TS.model.supports_voice_calls=TS.model.is_our_app&&TS.interop.environment.isSSBAndAtLeastVersion("2.5.2")||TS.model.is_chrome_desktop,TS.model.supports_video_calls=TS.model.supports_voice_calls,TS.model.supports_screen_sharing=TS.model.is_our_app&&TS.model.supports_voice_calls,TS.model.supports_screenhero=!1,TS.model.supports_mmap_minipanel_calls=!1,window.desktop&&desktop.calls&&desktop.calls.requestCapabilities){var T=desktop.calls.requestCapabilities();T&&(T.supports_screenhero&&!T.is_mas&&(TS.model.supports_screenhero=!0),T.supports_mmap_minipanel&&(TS.model.supports_mmap_minipanel_calls=!0))}TS.model.supports_spaces_in_windows=!1,window.desktop&&desktop.window&&desktop.window.list&&(TS.model.supports_spaces_in_windows=!0),TS.boot_data.special_flex_panes&&_.forOwn(TS.boot_data.special_flex_panes,function(r){TS.model.flex_names.push(r.flex_name)});var d=TS.storage.fetchExpandableState();TS.model.expandable_state=d},test:function(){return{sniffUserAgent:u}}}),_.merge(TS.model,u(navigator.userAgent));function u(i){var f=/(OS X)/g.test(i),T=i.indexOf("Windows")!==-1,d=/(WOW64|Win64)/g.test(i),r=i.indexOf("Linux")!==-1,t=i.indexOf("CrOS")!==-1,n=/(iPad|iPhone|iPod)/g.test(i),s=/(Android)/g.test(i),p=/(Edge)/g.test(i),m=/(Chrome)/g.test(i)&&!p,w=m&&(n||s),l=/(Slack)/g.test(i),S=/(MSIE|Trident)/g.test(i),h=/(Firefox)/g.test(i),E=/(Safari)/g.test(i);return{is_iOS:n,is_IE:S,is_FF:h,is_edge:p,is_chrome_desktop:m&&!w&&!l,is_chrome_mobile:w,is_safari_desktop:E&&!m&&f&&!n,is_mac:f,is_win:T,is_win_64:d,is_lin:r,is_cros:t,is_our_app:l,is_electron:l}}c(u,"_sniffUserAgent")})()},5386445939:()=>{(function(){TS.registerModule("redux",{onStart:function(){let t;TS.boot_data.page_needs_org_admin_dashboard_store?t=TS.interop.orgAdmin.configureOrgAdminStore({orgId:T()}):t=TS.interop.redux.configureStore({teamOrEnterpriseId:T(),reducers:TS.interop.redux.defaultReducers,middlewares:TS.interop.redux.getMiddlewares(TS.interop.redux.clientMiddlewares),sideEffects:TS.interop.redux.sideEffects}),f(t)},bindSelectorToStore:function(t){if(!t)throw new Error("bindSelectorToStore: selector is undefined.");return function(n,s,p,m,w,l,S){if(!u){TS.console.error(`Attempting to use a redux selector before the redux store is initialized, returning undefined instead. Selector is: ${t}`);return}const h=d(t);if(!h){TS.console.error(`Selector ${t} cannot be found. Either it doesn't exist or it hasn't yet been initialized. Returning undefined instead`);return}if(h&&h.length>7)throw new Error("bindSelectorToStore only supports selectors accepting up to 7 parameters. This should be more than enough for any use case");return h.call(void 0,TS.redux.getState(),n,s,p,m,w,l,S)}},getState:function(){const t=u&&u.getState&&u.getState();return t||(TS.error("No redux state found. The redux store must not be initialized yet"),TS.console.logStackTrace("Logging a stack trace to determine what is trying to access redux too early")),t},getStoreInstance:function(){return u||(TS.error("No redux store found. The redux store must not be initialized yet"),TS.console.logStackTrace("Logging a stack trace to determine what is trying to access redux too early")),u},dispatch:function(t){if(t&&u&&u.dispatch)return u.dispatch(t);if(!t){TS.error("No action provided?");return}TS.error("No dispatch function available. The redux store must not be initialized yet"),TS.console.logStackTrace("Logging a stack trace to determine what is trying to access redux too early")},test:{onStart:function(){f(window.slackCreateTestStore({teamOrEnterpriseId:T()}))}}});var u,i={};function f(t){u=t,TS.redux.dispatch(TS.interop.experiments.bulkAddExperiments(TS.boot_data.experiment_assignments)),TS.redux.dispatch(TS.interop.boot.setBootData(TS.boot_data)),TS.interop.desktop.isDesktop&&r(),TS.boot_data.enterprise_id&&TS.redux.dispatch(TS.interop.redux.actions.setEnterpriseId({id:TS.boot_data.enterprise_id})),TS.boot_data.page_needs_org_admin_dashboard_store||TS.redux.dispatch(TS.interop.redux.actions.setPageContext("team"))}c(f,"_bootStore");function T(){return TS.boot_data.team_id||"NO_TEAM_ID"}c(T,"_getTeamIdForStore");function d(t){let n=i[t];if(n)return n;if(n=_.get(window,t),!!n)return i[t]=n,n}c(d,"_getSelector");function r(){TS.redux.dispatch(TS.interop.redux.createDesktopDelegate());const t=TS.interop.redux.getDelegateForLegacy((window.desktopDelegates||window.desktop.delegates)[T()]);_.assign(TS.interop,{webapp:t}),_.assign(TSSSB,t)}c(r,"_createDesktopDelegate")})()},3149724087:()=>{(function(){var u=window.TS&&TS.raw_templates,i=window.TS&&TS.raw_template_paths,f=window.TS&&TS.templates_to_audit,T=window.TS&&TS.console,d=0,r,t;(!window.TSM||!window.TSM.interop)&&console.error("TSM.interop not found, app almost certainly will not boot properly"),window.TS={boot_data:{},qs_args:{},pri:0,has_pri:{},console:T,ms:{},interop:window.TSM&&window.TSM.interop,boot:function(e){TS.interop.debug.exportToGlobalDebugger("teamIds",[e.team_id]),TS.interop.debug.exportToGlobalDebugger("activeTeamId",e.team_id),TS.interop.debug.exportToGlobalDebuggerWithGetter("activeTeam",()=>window.slackDebug[e.team_id]),re(),t=new Promise(function(o){r=o}),TS.boot_data=e,TS.qs_args.js_path&&(TS.boot_data.version_ts="local_js"),TS.console.onStart(),TS.model.api_url=TS.boot_data.api_url,TS.model.async_api_url=TS.boot_data.async_api_url,TS.model.api_token=TS.boot_data.api_token,TS.model.webhook_url=TS.boot_data.webhook_url,TS.boot_data.page_needs_enterprise&&(TS.model.enterprise_api_token=TS.boot_data.enterprise_api_token),TS.interop.console.info("BOOT",`booted! pri:${TS.pri} version:${TS.boot_data.version_ts} start_ms:${TS.boot_data.start_ms} (${Date.now()-TS.boot_data.start_ms}ms ago)`),TS.interop.desktop.legacyHasDeviceStorage()&&TS.interop.environment.isSSB()&&TS.interop.desktop.deprecatedSetItem("shouldLogFirstMeaningfulPaint","true"),TS.redux.onStart(),TS.redux.onStart=_.noop,TS.interop.clog.setup({userId:TS.boot_data.user_id,teamId:TS.boot_data.team_id,enterpriseId:TS.boot_data.enterprise_id,locale:TS.interop.i18n&&TS.interop.i18n.locale}),$(document).ready(ie)},registerModule:function(e,o,a){if(J(o),B)return TS.error(`module "${e}" must be registered on before dom ready`);if(I[e])return TS.error(`module "${e}" already exists`);var v=n(e,o,"module");if(v===void 0){a?TS.error(`module "${e}" cannot be registered after delay; "${e.split(".").slice(0,-1).join(".")}" is not registered`):W[e]=o;return}o._name=e,I[e]=o},registerComponent:function(e,o){if(B)return TS.error(`component "${e}" must be registered on before dom ready`);if(C[e])return TS.error(`component "${e}" already exists`);if(typeof o=="function"&&(o=o()),typeof o.destroy!="function")return TS.error(`component "${e}" cannot be registered as it does not have a destroy method`);var a=c(function(){this._constructor&&this._constructor.apply(this,arguments),this.id||(this.id=`${e}_auto_guid_${d}`,d+=1),this.test&&s()?this.test=void 0:typeof this.test=="function"&&(this.test=this.test()),a._add(this.id,this)},"Component"),v=n(e,a,"component");if(v===void 0){R[e]=o;return}var b=o.destroy;o.destroy=function(){a._remove(this.id),b.call(this)},a.prototype=Object.create(o),a.instances={},a._name=e,C[e]=a,a._add=function(g,y){C[e].instances[g]&&TS.warn(`A ${e} component with the instance id ${g}already exists`),C[e].instances[g]=y},a._remove=function(g){C[e].instances[g]=null},a.get=function(g){return C[e].instances[g]},a.getAll=function(){return C[e].instances}},makeLogDate:function(){return window.TSMakeLogDate?TSMakeLogDate():"(TSMakeLogDate not loaded) "},shouldLog:function(e){return TS.console.shouldLog(e)},log:function(e){if(TS.shouldLog(e)){var o=ue(e,"log"),a=de(e,arguments);TS.interop.console.info(o,[].slice.call(a,0))}},info:function(){TS.interop.console.info("info",[].slice.call(arguments,0))},warn:function(){TS.interop.console.warn([].slice.call(arguments,0))},dir:function(e,o,a){TS.console.dir.apply(this,[].slice.call(arguments,0))},error:function(){TS.interop.console.error([].slice.call(arguments,0))},getQsArgsForUrl:function(e){if(!e&&M)return M;M="";for(var o in TS.qs_args)o!=="export_test"&&(M+=`&${o}=${encodeURIComponent(TS.qs_args[o])}`);return M},reload:function(e,o,a){if(e){TS.info(`TS.reload called: ${e}`),TS.generic_dialog.start({title:TS.interop.i18n.t("Reloading!","ts")(),body:e,show_cancel_button:!1,esc_for_ok:!0,onGo:function(){TS.reload()}});return}o&&(o=JSON.stringify(o)),TS.info(`TS.reload() called: ${o||"no reason specified"}`),TS.console&&TS.console.logStackTrace(),window.location.reload(a)},ensureFullyBooted:function(){return t},test:function(){var e={_registerDelayedComponentsAndModules:q,_deleteModule:function(o){delete TS[o],delete I[o]},_deleteComponent:function(o){delete TS[o],delete C[o]}};return e}},delete window.TSM;var n=c(function(e,o,a){var v=e,b=TS,g=v.split("."),y=g.length-1;if(y>=3)TS.error(`${a} "${v}" cannot be registered, as we only support a depth of two sub modules right now`);else if(y){v=g[y];var k=0;for(k;k<y;k+=1)if(g[k]||TS.error(`${a} "${e}" cannot be registered because of a bad name`),b=b[g[k]],b===void 0)return b}return b[v]!==void 0?TS.error(`${a} "${e}" cannot be registered; "${v}" already exists on "${b._name||"TS"}"`):b[v]=o,b},"_registerInNamespace");u&&(TS.raw_templates=u,u=null),i&&(TS.raw_template_paths=i,i=null),f&&(TS.templates_to_audit=f,f=null);var s=c(function(){return!(typeof window.jasmine<"u"||TS.boot_data.version_ts==="dev"&&TS.qs_args.export_test)},"_shouldSuppressTestExport"),p=c(function(){var e=m();return j=e,E?E.then(a=>(a.data.apps_cache_ts=_.get(TS.storage.fetchApps(),"cache_ts"),a.data.commands_cache_ts=_.get(TS.storage.fetchCmds(),"cache_ts"),a.data.emoji_cache_ts=_.get(TS.storage.fetchCustomEmoji(),"cache_ts"),a)).catch(function(){return TS.info("Recovering from incremental boot error"),j=void 0,e}).finally(()=>{E=void 0}):(TS.info("Starting non-incremental boot"),e)},"_callRTMStart"),m=c(function(){if(TS.qs_args.no_rtm_start)return new Promise(function(o,a){TS.resumeRTMStart=function(){delete TS.resumeRTMStart,delete TS.qs_args.no_rtm_start,m().then(function(v){o(v)}).catch(a)}});if(TS.boot_data.rtm_start_response&&!TS.qs_args.no_rtm_start_response){var e=Promise.resolve({ok:!0,args:TS.boot_data.rtm_start_response.args,data:TS.boot_data.rtm_start_response.data});return delete TS.boot_data.rtm_start_response,e}return U("legacy-boot").then(function(o){return{ok:!0,args:{},data:o}})},"_promiseToCallRTMStart"),w=c(function(e){if(TS.model.emoji_cache_ts=e.data.emoji_cache_ts,TS.model.apps_cache_ts=e.data.apps_cache_ts,TS.model.commands_cache_ts=e.data.commands_cache_ts,!e.data.self){TS.error("No self?");return}if(!e.data.team){TS.error("No team?");return}return se(e.data,e.args).then(function(){return l(e.data),S(),TS.emoji.bootEmoji().timeout(500).catch(function(){TS.interop.console.info("BOOT","Setting up emoji failed, trying to move forward anyway...")})}).then(function(){TS.model.ms_logged_in_once||h(e.data),TS.web&&TS.web.onEveryLoginMS(e.data),_e(e.data);var o=!TS.model.ms_logged_in_once;o&&r&&(r(),r=null,TS.interop.desktop.isDesktop&&TS.redux.dispatch(TS.interop.desktop.onWebappBooted()),N&&TS.interop.console.info("BOOT",`Finished first boot ${Math.ceil(performance.now()-N)} ms after DOM ready`)),TS.model.ms_logged_in_once=!0,TS.log(123,`User id: ${_.get(TS.boot_data,"user_id")}, team id: ${_.get(TS.model,"team.id")}`)}).catch(function(o){TS.error(`_setUpModel failed with err: ${o?o.message:"no err provided"}`),G||(G=!0,o&&o.message&&TS.interop.utility.getLogger({getState:TS.redux.getState}).error(o,o.message,{subtype:"legacy_setup_model_error"}),TS.telemeter.count("setup_model_failed")),TS.dir(o),TS.info(o.stack),TS._last_boot_error=o})},"_processStartData"),l=c(function(e){parseInt(TS.storage.fetchLastEKMChangeTimestamp()||"0",10)<parseInt(e.ekm_clear_cache_ts||"0",10)&&(TS.interop.desktop.isDesktop&&(TS.interop.console.info("BOOT","EKM clear cache event occurred; clearing file cache"),TS.interop.desktop.clearCache()),TS.interop.console.info("BOOT",`Updating last_ekm_change_ts in storage to ${e.ekm_clear_cache_ts}`),TS.storage.storeLastEKMChangeTimestamp(e.ekm_clear_cache_ts))},"_maybeClearCache"),S=c(function(){TS.ui.setThemeClasses()},"_setUpUserInterface"),h=c(function(e){if(TS.model.ms_logged_in_once){TS.warn("_finalizeFirstBoot called, but we have already done this before. This is a progamming error.");return}TS.web&&TS.web.onFirstLoginMS(e),j=void 0},"_finalizeFirstBoot"),E,j;TS.qs_args=function(){var e=location.search.substring(1),o={},a;a=e.split("&");for(var v=0;v<a.length;v+=1){var b=a[v].indexOf("=");if(b!=-1){var g=a[v].substring(0,b),y=a[v].substring(b+1);o[g]=unescape(y)}else a[v].length&&(o[a[v]]="")}return o}(),TS.pri=TS.qs_args.pri?`${TS.qs_args.pri},0`:TS.pri,_.each(TS.pri&&TS.pri.split(","),function(e){e&&(TS.has_pri[e]=!0)});var B=!1,M,U=c(e=>j||TS.redux.dispatch(TS.interop.boot.getStartData({reason:e})),"_fetchStartData"),z=c(function(e){H(),(TS.interop.environment.isDev||TS.interop.environment.isQa)&&$("html").attr("data-qa-ready",!0),B=!0,TS.model.is_our_app&&le(),TS.ui.setUpWindowUnloadHandlers(),TS.boot_data.app==="client"||(TS.boot_data.app==="web"||TS.boot_data.app==="space"||TS.boot_data.app==="calls")&&TS.web.gogogo(),(TS.boot_data.app==="client"||TS.boot_data.app==="space"||TS.boot_data.app==="calls")&&TS.interop.activity_session.listenForUserEvents(),TS.boot_data.no_login?(TS.info("running without a user"),TS.web&&TS.web.no_login_complete_sig.dispatch()):e?w(e):TS.error("_initialDataFetchesComplete expected to receive rtm.start data; we cannot continue.")},"_initialDataFetchesComplete"),oe=c(function(){if(window.sessionStorage)try{var e="session_load_count_web",o=parseInt(sessionStorage.getItem(e)||0,10)+1;sessionStorage.setItem(e,o),TS.log(123,`${e}: ${o}`),TS.telemeter.store(e,o,{is_count:!0})}catch(a){TS.warn(`could not log session load count: ${a}`)}},"_logSessionLoadCount"),re=c(function(){window.devtoolsFormatters=window.devtoolsFormatters||[],window.devtoolsFormatters.push({header:function(e){if(!e||!e._is_interop_channel_object||!window._)return null;var o=_.omitBy(_.assign({},e),_.isNil);return["object",{object:o}]},hasBody:function(){return!1}})},"_loadCustomChannelDevToolFormatter"),I={},W={},C={},R={},N,G=!1,ie=c(function(){N=performance.now(),TS.log(123,"_onDOMReady"),oe(),window.desktop&&desktop.downloads&&(TS.model.supports_downloads=!0,TS.model.flex_names.push("downloads")),soundManager.setup({debugMode:!1}),TS.storage.onStart(),q(),TS.redux.members.onStart(),TS.redux.members.onStart=_.noop,TS.interop.setTeamIdForToken(TS.boot_data.api_token,TS.boot_data.team_id),TS.boot_data.page_needs_enterprise&&TS.interop.setTeamIdForToken(TS.boot_data.enterprise_api_token,TS.boot_data.enterprise_id),TS.interop&&TS.interop.console&&TS.interop.console.setRedactionEnabled&&TS.interop.console.setRedactionEnabled(!0);var e=TS.boot_data.no_login?Promise.resolve():p(),o=[ae(),e];TS.boot_data.page_needs_enterprise&&!TS.boot_data.no_login&&o.push(TS.redux.teams.fetchAndUpsertEnterpriseOrgInfo()),Promise.all(o).then(function(){return e.then(z),null})},"_onDOMReady"),ae=c(function(){if(window.TS&&TS.raw_templates&&Object.keys(TS.raw_templates).length)return Promise.resolve();var e;TS.boot_data.hbs_templates_version&&TS.boot_data.version_ts!=="dev"?e=TS.boot_data.hbs_templates_version:TS.boot_data.version_ts==="dev"?e=Date.now():e=TS.boot_data.version_ts;var o=`/templates.php?cb=${e}${TS.getQsArgsForUrl()}`;TS.boot_data.template_groups&&(o+=`&template_groups=${TS.boot_data.template_groups}`),TS.boot_data.template_exclude_feature_flagged&&(o+="&template_exclude_feature_flagged=1"),/&locale=[a-zA-Z-]/.test(o)&&(o=o.replace(/\?locale=[a-zA-Z-]*&/,"?").replace(/[?|&]locale=[a-zA-Z-]*/,""),o=o.replace(/&locale=[a-zA-Z-]/,"")),TS.interop.i18n.locale&&TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&(o+=`&locale=${TS.interop.i18n.locale}`);var a=0;function v(){return a+=1,new Promise(function(b){if(window.TS&&TS.raw_templates&&Object.keys(TS.raw_templates).length){b();return}TS.utility.getCachedScript(o).done(function(){if(Object.keys(TS.raw_templates).length==0){TS.error(`${o} returned no templates D:`);return}b()}).fail(function(g,y,k){var x=Math.min(1e3*a,1e4);TS.warn(`loading ${o} failed (textStatus:${y} errorThrown:${k} attempts:${a}), trying again in ${x}ms`),setTimeout(v,x)})})}return c(v,"loadTemplates"),v()},"_promiseToLoadTemplates"),q=c(function(){_.sortBy(Object.keys(W),"length").forEach(function(e){TS.registerModule(e,W[e],!0)}),_.sortBy(Object.keys(R),"length").forEach(function(e){TS.registerComponent(e,R[e],!0)})},"_registerDelayedComponentsAndModules"),H=c(function(){if(TS.log(`${Date.now()-TS.boot_data.start_ms}ms from first html to calling onStarts()`),TS.boot_data.app!=="client")if(TS.boot_data.app==="web"||TS.boot_data.app==="space"||TS.boot_data.app==="calls")TS.web.onStart(),TS.web.onStart=_.noop;else{if(TS.boot_data.app==="test")return;if(!(TS.boot_data.app==="api"||TS.boot_data.app==="oauth")){TS.error(`WTF app? ${TS.boot_data.app}`);return}}var e,o=!TS.qs_args.keep_onstart;try{_.forOwn(I,function(a){a.onStart&&(e=a._name,a.onStart(),o&&(a.onStart=_.noop))})}catch(a){throw TS.error(`TS.${e}.onStart encountered an error:`),TS.interop.utility.getLogger({getState:TS.redux.getState}).error(a),window.TSBeacon&&window.TSBeacon("call_onstarts_error",1),a}o&&(H=_.noop)},"_callOnStarts"),se=c(function(e,o){return new Promise(function(a,v){var b=!TS.model.ms_logged_in_once;e.team.activity=[],e.team.prefs&&(TS.redux.prefs.setTeamPrefs(e.team.prefs),delete e.team.prefs),TS.boot_data.enterprise_prefs&&TS.redux.prefs.setEnterprisePrefs(TS.boot_data.enterprise_prefs),TS.redux.teams.upsertTeam(e.team),TS.members.legacyUpsertAndSignal({...e.self,is_self:!0}),TS.model.last_team_name||(TS.model.last_team_name=TS.model.team.name),b&&(TS.model.read_only_channels=[],TS.model.thread_only_channels=[],TS.model.non_threadable_channels=[]),TS.prefs.setPrefs(e.prefs||e.self.prefs),e.self.prefs&&delete e.self.prefs;var g,y,k,x=[`args.cache_ts:${o.cache_ts}`],F=_.clone(o);F.token&&(F.token="REDACTED");try{x.push(`api args: ${JSON.stringify(F)}`)}catch{x.push(`api args: ${F}`)}TS.members.legacyStartBatchUpsert();var O=e.users||[],P=e.bots||[],X={};for(g=0;g<O.length;g+=1)X[O[g].id]=!0;for(g=0;g<O.length;g+=1)y=TS.members.legacyUpsertAndSignal(O[g]),k=y.member,TS.has_pri[V]&&TS.log(V,`upsert from DATA: ${k.id} ${y.status}`);var Z={};for(g=0;g<P.length;g+=1)Z[P[g].id]=!0;TS.redux.bots.bulkUpsertBots(P),x.push(`members from updated_users in rtm.start:${O.length} (slackbot will always be here)`),x.push(`bots from updated_bots in rtm.start:${P.length}`),O.length<TS.model.members.length/20&&(TS.model.did_we_load_with_user_cache=!0);var K;if(TS.qs_args.debug_slackbot&&(K=!0),K&&TS.info("debug_slackbot: _setUpModel(): data_user_list, data_bot_list",O,P),Z=null,X=null,TS.log(123,x.join(`
`)),!TS.model.user){TS.error(`No TS.model.user - Expected user with id: ${_.get(e,"self.id","#")}`),TS.log(x.join(`
`)),v(Error("No TS.model.user"));return}TS.members.legacyFinishBatchUpsert(),TS.prefs.setHighlightWords(TS.prefs.getPref("highlight_words"));const Y=e.subteams||e.usergroups;Y&&(TS.interop.userGroups.clearAllUserGroupMembership(),TS.interop.userGroups.bulkAddUserGroupMembership({userGroups:[...Y.self],isMember:!0})),e.read_only_channels&&(TS.model.read_only_channels=e.read_only_channels),e.non_threadable_channels&&(TS.model.non_threadable_channels=e.non_threadable_channels),e.thread_only_channels&&(TS.model.thread_only_channels=e.thread_only_channels);var ce=c(function(){TS.telemeter.mark("upsert_channels_start");var Q=_.map(e.channels,function(D){if(!TS.interop.rules.channels.isPublicChannel(D)&&!TS.interop.rules.channels.isPrivateChannel(D))return D;var ee=!1,te=!1,ne=!1;return e.read_only_channels&&(ee=e.read_only_channels.indexOf(D.id)>-1),e.thread_only_channels&&(te=e.thread_only_channels.indexOf(D.id)>-1),e.non_threadable_channels&&(ne=e.non_threadable_channels.indexOf(D.id)>-1),{...D,is_read_only:ee,is_thread_only:te,is_non_threadable:ne}});TS.telemeter.measureAndClear("upsert_channels_start","upsert_channels");var fe=_.compact(Q);if(TS.redux.channels.bulkAddEntities(fe),TS.interop&&TS.interop.ChannelSidebar&&TS.interop.ChannelSidebar.ensureRowInView(),K){var A=TS.redux.channels.getImByMemberId("USLACKBOT"),L=TS.interop.members.getMemberById("USLACKBOT");TS.info(`debug_slackbot: non-incremental boot
TS.redux.channels.getImByMemberId('USLACKBOT') => ${A?"OK \u{1F389}":"NOT FOUND \u{1F47B}"}
TS.interop.members.getMemberById('USLACKBOT') => ${L?"OK \u{1F389}":"NOT FOUND \u{1F47B}"}`),A&&TS.info("debug_slackbot: slackbot_im",A.toJSON&&A.toJSON()||A),L&&TS.info("debug_slackbot: slackbot_member",L.toJSON&&L.toJSON()||L),A||TS.warn("debug_slackbot: TS.redux.channels.getImByMemberId(`USLACKBOT`): No IM found?")}},"completeModelObSetup");ce(),TS.redux.dispatch(TS.interop.redux.models.paidFeatures.setPaidFeatures(e.paid_features||[])),a()})},"_setUpModel"),J=c(function(e){if(e.test&&!e.__esModule&&s())delete e.test;else if(typeof e.test=="function"){var o=e.test;Object.defineProperty(e,"test",{get:o})}},"_extractAndDeleteTestProps");J(TS);var le=c(function(){var e=!1,o=c(function(){TS.info("sleep event!"),e=!0},"_onSleep"),a=c(function(){e&&(e=!1,TS.info(`wake event! version:${TS.boot_data.version_ts} start_ms:${TS.boot_data.start_ms}`))},"_onWake");window.addEventListener("sleep",o,!1),window.addEventListener("wake",a,!1)},"_initSleepWake"),V=481,ue=c(function(e,o){var a=o;return e&&_.isNumber(e)?a=`${e}`:o==="log"&&(a="info"),a},"_makelogLabel"),de=c(function(e,o){var a=Array.prototype.slice.call(o);return e&&_.isNumber(e)&&a.shift(),a},"_removePriFromArgs"),_e=c(function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{channels:o,ims:a,mpims:v,groups:b,self:g,team:y}=e,k=_([o,a,v,b]).flatten().map("id").value(),x=[g.id],F=[y.id];TS.interop.channels.markObjectsAsFresh(k),TS.interop.members.markObjectsAsFresh(x),TS.interop.teams.markObjectsAsFresh(F)},"_markDataFresh");_.noop()})()},5815130966:()=>{(function(){TS.registerModule("telemeter",{onStart:function(){TS.web&&TS.web.login_sig.add(TS.telemeter.onLogin)},onLogin:function(){TS.interop.telemeter.start()},mark:function(u){TS.interop.telemeter.getTelemeter().mark(u)},measure:function(u,i,f,T){return TS.interop.telemeter.getTelemeter().measure(u,i,f,T)},measureAndClear:function(u,i){return TS.interop.telemeter.getTelemeter().measureAndClear(u,i)},store:function(u,i,f){return TS.interop.telemeter.getTelemeter().store(u,i,f)},count:function(u,i){TS.interop.telemeter.getTelemeter().count(u,i)}})})()},7473251755:()=>{(function(){TS.registerModule("ui",{window_focus_changed_sig:new signals.Signal,window_unloaded_sig:new signals.Signal,onStart:function(){$(window).bind("focus",TS.ui.onWindowFocus),$(window).bind("blur",TS.ui.onWindowBlur),$("html").bind("mousedown",function(){TS.model.ui.is_window_focused||TS.interop.console.info("FOCUS-EVENT","Mousedown while !is_window_focused"),TS.ui.onWindowFocus({target:window})});var d=!!(document.hasFocus&&document.hasFocus());d?TS.ui.onWindowFocus({target:window}):TS.ui.onWindowBlur({target:window}),TS.interop.environment.win_ssb_version&&$("body").addClass("desktop"),i()},setUpWindowUnloadHandlers:function(){typeof window.addEventListener<"u"?window.addEventListener("beforeunload",TS.ui.onWindowUnload,!1):typeof document.addEventListener<"u"?document.addEventListener("beforeunload",TS.ui.onWindowUnload,!1):typeof window.attachEvent<"u"?window.attachEvent("onbeforeunload",TS.ui.onWindowUnload):typeof window.onbeforeunload=="function"?window.onbeforeunload=function(){return TS.ui.onWindowUnload(),!1}:window.onbeforeunload=TS.ui.onWindowUnload},onWindowUnload:function(){TS.model.window_unloading=!0,TS.ui.window_unloaded_sig.dispatch(),TS.redux.dispatch(TS.interop.redux.models.window.setUnloading(!0))},teamSelectionChanged:function(){if(!(!window.desktop||!window.desktop.reduxHelper||!_.isFunction(window.desktop.reduxHelper.isSelectedTeam))&&!TS.interop.environment.isSSBAndAtLeastVersion("3.2.0")){var d=window.desktop.reduxHelper.isSelectedTeam();TS.interop.console.info("FOCUS-EVENT",`Team selection changed (${d})`),d?f():T()}},onWindowFocus:function(d){d.target!==window&&d.target!==document||(TS.model.ui.is_window_focused||TS.interop.console.info("FOCUS-EVENT","Window focused"),f())},onWindowBlur:function(d){d.target!==window&&d.target!==document||(TS.model.ui.is_window_focused&&TS.interop.console.info("FOCUS-EVENT","Window blurred"),T())},startButtonSpinner:function(d){TS.ui.resetButtonSpinner(d);var r=u(d);r.isLoading()||r.start()},stopButtonSpinner:function(d,r){var t=u(d);if(t.isLoading()&&(t.stop(),r)){var n=$(d).find(".ladda-label").text();$(d).data("original_text",n),$(d).removeClass("").addClass("btn_success").find(".ladda-label").html(`<i class="ts_icon ts_icon_check_circle_o small_right_margin"></i>${TS.interop.i18n.t("Saved","ui")()}`)}},resetButtonSpinner:function(d){var r=u(d);if(!r.isLoading()){var t=$(d).data("original_text");t&&($(d).find(".ladda-label").text(t),$(d).removeData("original_text"),$(d).removeClass("btn_success").addClass(""))}},setThemeClasses:function(){if($("body").removeClass("dense_theme light_theme"),TS.prefs.getPref("theme")==="dense")$("body").addClass("dense_theme");else if(TS.prefs.getPref("theme")==="light")$("body").addClass("light_theme");else{TS.error("no theme?");return}TS.prefs.getPref("avatars")?$("body").removeClass("no_avatars"):$("body").addClass("no_avatars")}});var u=c(function(d){var r=$(d).data("ladda");return r||(r=Ladda.create(d),$(d).data("ladda",r)),r},"_getLadda"),i=c(function(){$("body").on("click.plastic_date",'input[type="text"][data-plastic-type="date"]',function(d){var r=$(d.target);if(r.pickmeup){var t=!!r.closest("#fs_modal").length||$(this).data("flat");if(r.pickmeup({flat:t,first_day:window.moment.localeData().firstDayOfWeek()||0,hide_on_select:!0,min:$(this).data("min")||null,max:$(this).data("max")||null,format:$(this).data("format")||"Y-m-d",class_name:"plastic_date_picker",hide:function(){r.trigger("input")},title_format:TS.interop.i18n.locale==="ja-JP"?"Y\u5E74B":"B Y",locale:{days:window.moment.weekdays(),daysShort:window.moment.weekdaysShort(),daysMin:window.moment.weekdaysMin(),months:window.moment.months(),monthsShort:window.moment.monthsShort()}}).pickmeup("show"),t){var n=r.data("picker");n||(n=$('<div class="position_relative no_margin no_padding"></div>'),r.data("picker",n)),r.after(n.append(r.find(".pickmeup").detach()))}}}).on("keydown.plastic_date",'input[type="text"][data-plastic-type="date"]',function(d){var r=$(d.target);r.pickmeup&&window.document.activeElement===d.target&&r.pickmeup("hide")})},"_initDate"),f=c(function(){TS.interop.redux.models.window.isWindowFocused(TS.redux.getState())||(TS.model.shift_key_pressed=!1,TS.model.insert_key_pressed=!1,TS.model.ui.is_window_focused=!0,TS.ui.window_focus_changed_sig.dispatch(!0),TS.redux.dispatch(TS.interop.redux.models.window.updateFocus({isFocused:!0})))},"_setWindowFocused"),T=c(function(){TS.interop.redux.models.window.isWindowFocused(TS.redux.getState())!==!1&&(TS.model.shift_key_pressed=!1,TS.model.insert_key_pressed=!1,TS.model.ui.is_window_focused=!1,TS.ui.window_focus_changed_sig.dispatch(!1),TS.redux.dispatch(TS.interop.redux.models.window.updateFocus({isFocused:!1})))},"_unsetWindowFocused")})()},7866643308:(u,i,f)=>{"use strict";var T=f(4800130078),d=f.n(T),r=f(3149724087),t=f.n(r),n=f(5386445939),s=f.n(n),p=f(5815130966),m=f.n(p),w=f(5739961269),l=f.n(w),S=f(258318018),h=f.n(S),E=f(8534419942),j=f.n(E),B=f(8897237271),M=f.n(B),U=f(7473251755),z=f.n(U)}},u=>{var i=c(T=>u(u.s=T),"__webpack_exec__"),f=i(7866643308)}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/rollup-core_required_ts.8ce20cc6419e15da9e94.min.js.map