(()=>{var f=Object.defineProperty;var u=(e,i)=>f(e,"name",{value:i,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["TS.web.file"],{8079989847:()=>{(function(){TS.registerModule("web.file",{file_id:null,onStart:function(){TS.web.login_sig.add(TS.web.file.onLogin,TS.web.file,1)},onLogin:function(){TS.boot_data.file&&(TS.redux.dispatch(TS.interop.redux.models.files.upsertFiles({files:[TS.boot_data.file]})),TS.web.file.file_id=TS.boot_data.file.id);var e;TS.boot_data.file?e=Promise.all([TS.members.legacyEnsureMembersInDataArePresent(TS.boot_data.file),TS.bots.legacyEnsureBotsInDataArePresent(TS.boot_data.file)]):e=Promise.resolve(),e.then(function(){if(TS.boot_data.file){TS.utility.makeSureAllExternalLinksAreRefererSafe($(".post_body"));var i=TS.redux.files.getFileById(TS.web.file.file_id),l;i.user==="USLACKBOT"&&i.bot_id?(l=TS.interop.bots.getBotById(i.bot_id),l.is_bot=!0,l.is_service=!0):l=TS.interop.members.getMemberById(i.user),$("#file_public_link_revoker").bind("click",function(){TS.web.file.revokePublicURL(i)})}$("#snippet_expand_toggle").on("click",function(){$(this).find("i").toggleClass("hidden"),$("#page_contents").toggleClass("full_width");var t;TS.prefs.getPref("expand_snippets")?t=!1:t=!0,TS.prefs.setPrefLocal("expand_snippets",t),TS.prefs.setPrefByAPI({name:"expand_snippets",value:t})}),setTimeout(function(){$("#title").focus()},0)})},revokePublicURL:function(e){var i=TS.interop.i18n.t("Revoke public file link","files")(),l=`<p>${TS.interop.i18n.t("This will disable the Public Link for this file, and will cause any previously shared links to stop working.","files")()}</p>`;l+=TS.interop.i18n.t("Are you sure you want to revoke this public link?","files")(),TS.generic_dialog.start({title:i,body:l,show_cancel_button:!0,show_go_button:!0,go_button_text:TS.interop.i18n.t("Revoke it","files")(),go_button_class:"btn_warning",onGo:function(){$(".file_public_link_shared").slideToggle(100),TS.redux.dispatch(TS.interop.redux.models.files.upsertFiles({files:[{...e,public_url_shared:!1}]}));const t=u(function(r,s){s.file&&TS.redux.dispatch(TS.interop.redux.models.files.upsertFiles({files:[s.file]}))},"apiResponseHandler");return TS.interop.api.callExpedited("files.revokePublicURL",{file:e.id}).then(function(r){let{data:s,args:o,request_id:n}=r;var a=!0;return t(a,s,o,n),{data:s,args:o,request_id:n}}).catch(function(r){let{data:s,args:o,request_id:n}=r;var a=!1;return t(a,s,o,n),{data:s,args:o,request_id:n}})}})}})})()}},e=>{var i=u(t=>e(e.s=t),"__webpack_exec__"),l=i(8079989847)}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/TS.web.file.9bb3bf5b35e4fef9e340.min.js.map